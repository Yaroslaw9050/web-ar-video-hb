
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-image-aframe.prod.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
	const sceneEl = document.querySelector('a-scene');
	let arSystem;
	sceneEl.addEventListener('loaded', function () {
	  arSystem = sceneEl.systems["mindar-image-system"];
	});
    const uiContainer = document.querySelector('#example-start-button');
	const exampleTarget = document.querySelector('#example-target');
    const examplePlane = document.querySelector('#example-plane');
	const startButton = document.querySelector("#example-start-button");
    const myVideo = document.querySelector("#base_video");
	startButton.addEventListener('click', () => {
	  arSystem.start();
      console.log(uiContainer);
      uiContainer.style.display = 'none';
      myVideo.play();
      myVideo.pause();
	});
	sceneEl.addEventListener("arReady", (event) => {
	});
	sceneEl.addEventListener("arError", (event) => {
	});
	exampleTarget.addEventListener("targetFound", event => {
	  console.log("target found");
      myVideo.play();
	});
	exampleTarget.addEventListener("targetLost", event => {
	  console.log("target lost");
      myVideo.pause();
	});
    examplePlane.addEventListener("click", event => {
	  console.log("plane click");
	});
      });
    </script>
  </head>
  <body>
    <div class="container" style="position: absolute; margin-left: 32%; z-index: 1000">
        <div class="content">
            <button id="example-start-button">Start</button>
        </div>
    </div>
    <a-scene mindar-image="imageTargetSrc: https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.2/examples/image-tracking/assets/card-example/card.mind; autoStart: false" color-space="sRGB" vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false">
    
        <a-assets>
            <video id="base_video" autoplay playsinline src="video.mp4"></video>
        </a-assets>
      
        <a-camera position="0 0 0" look-controls="enabled: false" cursor="fuse: false; rayOrigin: mouse;" raycaster="near: 10; far: 10000; objects: .clickable"></a-camera>
  
      <a-entity id="example-target" mindar-image-target="targetIndex: 0">
        <a-video id="example-plane" width="1.6" height="1" src="#base_video"></a-video>
      </a-entity>
    </a-scene>
  </body>
  <script data-consolejs-channel="d1ede6af-9740-0e44-bc20-a2e32c8c9328" src="https://remotejs.com/agent/agent.js"></script>
  </html>




